(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{Fuyd:function(e,t,a){e.exports={baseView:"antd-pro\\pages\\-person\\-base-view-baseView",left:"antd-pro\\pages\\-person\\-base-view-left",right:"antd-pro\\pages\\-person\\-base-view-right",avatar_title:"antd-pro\\pages\\-person\\-base-view-avatar_title",avatar:"antd-pro\\pages\\-person\\-base-view-avatar",button_view:"antd-pro\\pages\\-person\\-base-view-button_view"}},cySi:function(e,t,a){"use strict";var n=a("TqRt"),o=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var r=n(a("W9HT"));a("+L6B");var s=n(a("2/Rp"));a("5NDa");var i=n(a("5rEg"));a("2qtc");var l=n(a("kLXV")),d=n(a("lwsE")),u=n(a("W8MJ")),f=n(a("a1gu")),p=n(a("Nsbk")),c=n(a("7W2i"));a("OaEy");var m=n(a("2fM7"));a("y8nQ");var v,g,w,y=n(a("Vl3Y")),h=o(a("q1tI")),b=(a("LLXN"),a("MuoO")),k=n(a("Fuyd")),E=n(a("usdK")),x=y.default.Item,I=(m.default.Option,v=(0,b.connect)(function(e){var t=e.person,a=e.loading;return{person:t,loading:a.models.person}}),g=y.default.create(),v(w=g(w=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return a=(0,f.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(o))),a.state={loading:!1},a.getAvatarURL=function(){var e="https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png";return e},a.getViewDom=function(e){a.view=e},a.modifyPwd=function(){var e=a.props,t=e.dispatch,n=e.form;n.validateFields(function(e,n){if(!e){var o={loginId:JSON.parse(sessionStorage.getItem("userInfo")).loginId,newpassword:n.newpassword,token:JSON.parse(sessionStorage.getItem("userInfo")).token};a.setState({loading:!0}),t({type:"person/editPwd",payload:o}).then(function(e){e.statusCode?l.default.error({title:"\u9519\u8bef\u4fe1\u606f",content:"\u670d\u52a1\u7aef\u9519\u8bef\uff0c\u9519\u8bef\u4ee3\u7801\uff1a ".concat(e.statusCode)}):l.default.success({title:"\u64cd\u4f5c\u4fe1\u606f",content:e.message,onOk:function(){sessionStorage.removeItem("userInfo"),E.default.push("/user/login")}}),a.setState({loading:!1})})}})},a}return(0,c.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.loading;return h.default.createElement("div",{className:k.default.baseView,ref:this.getViewDom},h.default.createElement(r.default,{spinning:a},h.default.createElement("div",{className:k.default.left},h.default.createElement(y.default,{layout:"vertical",onSubmit:this.modifyPwd,hideRequiredMark:!0},h.default.createElement(x,{label:"\u5934\u50cf"},h.default.createElement("div",{className:k.default.avatar,style:{width:"224px"}},h.default.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png",alt:"avatar",style:{width:"80%"}}))),h.default.createElement(x,{label:"\u4fee\u6539\u5bc6\u7801"},t("newpassword",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\uff01"}]})(h.default.createElement(i.default,{type:"password"}))),h.default.createElement(s.default,{type:"primary",onClick:function(){return e.modifyPwd()}},"\u4fdd\u5b58\u57fa\u672c\u4fe1\u606f")))))}}]),t}(h.Component))||w)||w),N=I;t.default=N}}]);